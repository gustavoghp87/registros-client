(this.webpackJsonpregistros=this.webpackJsonpregistros||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),c=a.n(o),l=(a(79),a(80),a(6)),i=a(7),s=a.n(i),m=a(14),u=a(17),d=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Llamando a auth desde desarrollo"),e.next=3,fetch("".concat(u.a,"/api/users/auth"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({token:document.cookie})});case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",{type:"auth_user",payload:a});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=a(20),E=function(e,t){return function(a){var o=Object(p.c)((function(e){return e.user})),c=Object(p.b)();return Object(n.useEffect)((function(){c(d()).then(function(){var e=Object(m.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("USUARIO EN AUTH",n.payload.userData),console.log("AUTHENTICATION, auth",n.payload.userData.isAuth,"&& requerido",t),!n.payload.userData.isAuth&&t&&a.history.push("/login");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[c,a.history]),r.a.createElement(e,Object.assign({},a,{user:o}))}},g=a(27);var f=function(){var e=Object(l.f)(),t=Object(n.useState)(""),a=Object(g.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(""),d=Object(g.a)(i,2),p=d[0],E=d[1],f=function(){var t=Object(m.a)(s.a.mark((function t(){var a,n,r,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("log in...",o,p),t.next=3,fetch("".concat(u.a,"/api/users/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:o,password:p})});case 3:return r=t.sent,t.next=6,r.json();case 6:a=t.sent,n=a.loginSuccess,c=a.newtoken,document.cookie="newtoken = ".concat(c),console.log("\xc9xito en loguear:",n,"doc.cookie:",document.cookie),n?e.push("/index"):alert("Datos incorrectos");case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"container",style:{maxWidth:"95%"}},r.a.createElement("div",{className:"container",style:{paddingTop:"30px",marginBottom:"50px",border:"black 1px solid",borderRadius:"12px",maxWidth:"600px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"0px"}},r.a.createElement("h2",{style:{display:"block",margin:"auto"}},"INGRESAR"),r.a.createElement("br",null)),r.a.createElement("div",{className:"container",style:{paddingTop:"15px",display:"block",margin:"auto",maxWidth:"500px"}},r.a.createElement("div",{style:{display:"block",margin:"auto"},id:"demo-form"},r.a.createElement("input",{className:"form-control",type:"email",name:"email",style:{marginBottom:"12px"},placeholder:"Correo electr\xf3nico",autoFocus:!0,onChange:function(e){return c(e.target.value)}}),r.a.createElement("input",{className:"form-control",type:"password",name:"password",style:{marginBottom:"30px"},placeholder:"Contrase\xf1a",onChange:function(e){return E(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(f(),console.log(o,p))}}),r.a.createElement("button",{className:"btn btn-success g-recaptcha",style:{width:"100%",display:"block",margin:"auto"},"data-sitekey":"6LefBLcZAAAAANjU9eswkE-TMmarZL72OzW_ZlSz","data-callback":"onSubmit","data-action":"submit",onClick:function(){return f()},id:"login"},"ENTRAR")),r.a.createElement("a",{href:"/register"},r.a.createElement("p",{style:{fontSize:"1rem",padding:"15px 0px",textAlign:"end"}},"Registrar una cuenta")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))};var h=function(){return r.a.createElement("div",{className:"container container2",style:{maxWidth:"95%"}},r.a.createElement("div",{className:"container",style:{paddingTop:"30px",marginBottom:"50px",border:"black 1px solid",borderRadius:"12px",maxWidth:"600px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"0px"}},r.a.createElement("h2",{style:{display:"block",margin:"auto"}},"REGISTRARSE"),r.a.createElement("br",null)),r.a.createElement("div",{className:"container",style:{paddingTop:"15px",display:"block",margin:"auto",maxWidth:"500px"}},r.a.createElement("form",{action:"/register",method:"POST",style:{display:"block",margin:"auto"},id:"demo-form"},r.a.createElement("input",{className:"form-control",type:"email",name:"email",style:{marginBottom:"12px"},placeholder:"Correo electr\xf3nico",autoFocus:!0}),r.a.createElement("input",{className:"form-control",type:"password",name:"password",style:{marginBottom:"12px"},placeholder:"Contrase\xf1a"}),r.a.createElement("input",{className:"form-control",type:"password",name:"confpassword",style:{marginBottom:"12px"},placeholder:"Confirmar Contrase\xf1a"}),r.a.createElement("input",{className:"form-control",type:"number",name:"group",style:{marginBottom:"30px"},placeholder:"N\xfamero de Grupo"}),r.a.createElement("button",{className:"btn btn-danger g-recaptcha",style:{width:"100%",display:"block",margin:"auto",height:"50px"},"data-sitekey":"6LefBLcZAAAAANjU9eswkE-TMmarZL72OzW_ZlSz","data-callback":"onSubmit","data-action":"submit"},"REGISTRARSE"),r.a.createElement("a",{href:"/login"},r.a.createElement("p",{style:{fontSize:"1.1rem",padding:"15px 0px",textAlign:"end"}},"Volver a ingreso"))))),r.a.createElement("p",{style:{fontSize:"0.9rem",paddingBottom:"12px",textAlign:"center",display:"block"}},"Luego de registrarse, se debe aguardar la autorizaci\xf3n del grupo de territorios"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))};var b=function(){return r.a.createElement("h2",null," Home Page ")},y=a(28),x=a.n(y);var v=function(){var e=Object(p.c)((function(e){return e.user.userData}));console.log("\xb0!!!!!!!!!!!!!!!!!!!!!",e);var t=Object(n.useState)([]),a=Object(g.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){Object(m.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(u.a,"/api/buildings/territorios"),{token:document.cookie});case 3:t=e.sent,(a=t.data.territorios).sort((function(e,t){return e-t})),console.log("Territorios asignados:",a),c(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("No se pudieron recuperar los territorios asignados",e.t0);case 13:case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]);var l={width:"120px",height:"100px",borderRadius:"15px",marginBottom:"40px"};return r.a.createElement("div",{className:"container",style:{paddingTop:"60px",marginBottom:"50px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"20px"}},r.a.createElement("h1",{style:{display:"block",margin:"auto",textAlign:"center"}},"SELECCIONE UN TERRITORIO")),r.a.createElement("div",{className:"row",style:{padding:"60px",paddingTop:"40px",justifyContent:"space-evenly"},id:"columna"},function(){try{if(e.userData.isAuth)return o.map((function(e,t){return r.a.createElement("a",{type:"button",className:"btn btn-danger",style:l,href:"/territorios/".concat(e),key:t},r.a.createElement("h2",{className:"h-100 align-middle",style:{padding:"22%",fontFamily:'"Arial Black", Gadget, sans-serif'}},e))}))}catch(t){}}()))},k=a(25);var N=function(){var e=Object(l.g)().territorio,t=Object(n.useState)({unterritorio:[{_id:"5f1cf04e21b796c4c63865fa",inner_id:"16",cuadra_id:"1",territorio:"1",manzana:"1",direccion:"Concordia 65 3 A",telefono:"54-11-4612-3867",estado:"Contest\xf3",fechaUlt:"1595883532288",noAbonado:!1,observaciones:""}]}),a=Object(g.a)(t,2),o=a[0],c=a[1],i=function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(u.a,"/api/buildings/getBuildings/").concat(t),{token:document.cookie});case 2:a=e.sent,c(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{textAlign:"center"}}," Territorios Page "),r.a.createElement("h2",{style:{textAlign:"center"}}," Territorio ",e," "),r.a.createElement("br",null),r.a.createElement("br",null),(console.log("viviendas:",typeof o.unterritorio,o.unterritorio),o.unterritorio.map((function(e){return r.a.createElement("div",{className:"card",key:e.inner_id,style:{marginBottom:"50px"}},r.a.createElement("div",{className:"card-body",style:{paddingTop:"15px",paddingBottom:"15px"}},r.a.createElement("div",{className:"row",style:{margin:"25px"}},r.a.createElement("div",{className:"col-lg-2",style:{margin:"auto"}},r.a.createElement("h4",{style:{textAlign:"center",fontSize:"1.2rem"}},"Territorio ",e.territorio," ",r.a.createElement("br",null),"Manzana ",e.manzana," ",r.a.createElement("br",null),"Vivienda ",e.inner_id)),r.a.createElement("div",{className:"col-lg-4",style:{marginBottom:"10px"}},r.a.createElement("div",{className:"row",style:{paddingBottom:"20px"}},r.a.createElement("h4",{style:{textAlign:"center",display:"block",margin:"auto"}},"Direcci\xf3n: ",e.direccion)),r.a.createElement("div",{className:"row",style:{paddingTop:"20px",paddingBottom:"1%"}},r.a.createElement("h4",{style:{textAlign:"center",display:"block",margin:"auto"}},"Tel\xe9fono:",r.a.createElement("div",{style:{marginTop:"7px"}},r.a.createElement("a",{href:"tel:".concat(e.telefono)}," ",e.telefono," "))))),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("div",{className:"row",style:{textAlign:"center",height:"50%"}},r.a.createElement(k.a,{style:{width:"100%"}},r.a.createElement(k.a.Toggle,{variant:"success",id:"dropdown-basic",style:{width:"80%"}},e.estado),r.a.createElement(k.a.Menu,null,r.a.createElement(k.a.Item,{href:"#/action-1"},"No predicado"),r.a.createElement(k.a.Item,{href:"#/action-2"},"Contest\xf3"),r.a.createElement(k.a.Item,{href:"#/action-3",onClick:function(){alert("No contest\xf3")}},"No contest\xf3"),r.a.createElement(k.a.Item,{href:"#/action-4"},"A dejar carta"),r.a.createElement(k.a.Item,{href:"#/action-5"},"No llamar")))),r.a.createElement("div",{className:"row",style:{height:"50%"}},e.fechaUlt?r.a.createElement("div",{className:"card border-dark mb-3",style:{maxWidth:"18rem",backgroundColor:"rgb(214, 214, 214)",margin:"auto"}},r.a.createElement("div",{className:"card-header",style:{padding:"0.2rem 0.5rem"}},r.a.createElement("p",{className:"card-text"},"Se llam\xf3 el ",function(e){try{return new Date(parseInt(e)).toString().split("GMT")[0]}catch(t){}}(e.fechaUlt)))):r.a.createElement("div",null))),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("div",{className:"row",style:{textAlign:"center",height:"100%",marginLeft:"20px"}},r.a.createElement("div",{className:"form-check",style:{display:"block",margin:"auto"}},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"checkbox{{inner_id}}",style:{marginTop:"0.5rem",transform:"scale(1.5)",padding:5,marginLeft:"0rem"},onClick:function(){return alert()}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"defaultCheck1",style:{fontSize:"1.1rem",fontWeight:600}},"\xa0 \xa0 Tel\xe9fono no abonado en servicio")))))))}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))};var w=function(){return r.a.createElement("h2",null," Estad\xedsticas Page ")};var O=function(){return r.a.createElement("h2",null," User Page ")};var A=function(){return r.a.createElement("h2",null," Admins Page ")};var T=function(){return r.a.createElement("h2",null," Rooms Page ")},S=a(119),j=a(117),C=a(66),B=a(118),I=a(116);var R=function(){console.log("document.cookie desde navbar:",document.cookie);var e=Object(p.c)((function(e){return e.user.userData}));console.log("redux",e);var t=Object(l.f)(),a=function(){var e=Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("".concat(u.a,"/api/users/logout"),{token:document.cookie});case 2:a=e.sent,"ok"===a.data.response?(alert("Sesi\xf3n de usuario cerrada con \xe9xito"),t.push("/login")):alert("Algo fall\xf3 y no cerr\xf3 sesi\xf3n");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(B.a,{bg:"dark",variant:"dark",collapseOnSelect:!0,expand:"lg"},r.a.createElement(B.a.Brand,{href:"/"},"\xa0 INICIO"),r.a.createElement(B.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(B.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(S.a,{className:"mr-auto"},r.a.createElement(S.a.Link,{href:"/index"},"\xa0 \xa0Territorios\xa0 \xa0"),r.a.createElement(S.a.Link,{href:"/salas"},"\xa0 \xa0Salas\xa0 \xa0"),r.a.createElement(S.a.Link,{href:"/estadisticas"},"\xa0 \xa0Estad\xedsticas\xa0 \xa0"),r.a.createElement(S.a.Link,{href:"/admins"},"\xa0 \xa0Administradores\xa0 \xa0"),r.a.createElement(I.a,{title:"\xa0 \xa0Mi usuario\xa0 \xa0",id:"collasible-nav-dropdown"},r.a.createElement(I.a.Item,{href:"#action/3.1"},"Datos"),r.a.createElement(I.a.Item,{href:"#action/3.2"},"Actividad"),r.a.createElement(I.a.Divider,null),r.a.createElement(I.a.Item,{href:"#action/3.4"},"Otros"))),function(){try{if(console.log(e.userData.isAuth),e.userData.isAuth)return r.a.createElement(S.a,null,r.a.createElement(j.a,{inline:!0},r.a.createElement(C.a,{variant:"outline-info",onClick:function(){return a()}},"CERRAR SESI\xd3N")))}catch(t){}}())))};var _=function(){var e={fontSize:window.screen.width>767?"3rem":"1rem",paddingTop:"20px",paddingBottom:"20px",backgroundColor:"#343a40",height:"200px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-footer",style:e},r.a.createElement("div",{style:{display:"flex",margin:"auto",textAlign:"center",alignItems:"center",justifyContent:"center"}},r.a.createElement("span",{style:{display:"inline-block"}},r.a.createElement("a",{href:"https://glamstudio.com.ar",style:{color:"white",fontWeight:"bolder"}},"\xa0 TEXTO ")),r.a.createElement("span",{style:{display:"inline-block"}}))))};a(106);var D=function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Cargando...")},r.a.createElement(R,null),r.a.createElement("div",{style:{maxWidth:"90%",paddingTop:"75px",margin:"auto",minHeight:"calc(100vh - 80px)"}},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:E(b,!1)}),r.a.createElement(l.a,{exact:!0,path:"/login",component:E(f,!1)}),r.a.createElement(l.a,{exact:!0,path:"/register",component:E(h,!1)}),r.a.createElement(l.a,{exact:!0,path:"/index",component:E(v,!0)}),r.a.createElement(l.a,{exact:!0,path:"/territorios/:territorio",component:E(N,!0)}),r.a.createElement(l.a,{exact:!0,path:"/estadisticas",component:E(w,!1)}),r.a.createElement(l.a,{exact:!0,path:"/user",component:E(O,!1)}),r.a.createElement(l.a,{exact:!0,path:"/admins",component:E(A,!1)}),r.a.createElement(l.a,{exact:!0,path:"/salas",component:E(T,!1)}),r.a.createElement(l.a,{path:"/",component:E(f,!1)}))),r.a.createElement(_,null))},L=a(32),z=a(26),U=a(71),W=Object(z.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth_user":return Object(U.a)({},e,{userData:t.payload});default:return e}}}),P=a(67),F=a(68),G=a.n(F),M=Object(z.a)(G.a,P.a)(z.d);c.a.render(r.a.createElement(p.a,{store:M(W,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(L.a,null,r.a.createElement(D,null))),document.getElementById("root"))},17:function(e){e.exports=JSON.parse('{"a":"https://registros-rest-api.herokuapp.com"}')},74:function(e,t,a){e.exports=a(111)},79:function(e,t,a){},80:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.7ee54809.chunk.js.map