(this.webpackJsonpregistros=this.webpackJsonpregistros||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=(a(79),a(80),a(6)),i=a(7),s=a.n(i),m=a(17),u=a(13),d=a.n(u),p=a(14),E=function(e){return{type:"decrement",payload:e}},g=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=8;break;case 3:return t=e.sent,a=t.data,e.abrupt("return",{type:"auth_user",payload:a});case 8:return e.next=10,d()("".concat(p.a,"/api/users/auth"));case 10:return n=e.sent,r=n.data,e.abrupt("return",{type:"auth_user",payload:r});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=a(15),h=function(e,t){return function(a){var c=Object(f.c)((function(e){return e.user})),l=Object(f.b)();return Object(n.useEffect)((function(){l(g()).then(function(){var e=Object(m.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("AUTHENTICATION",n.payload.userData.isAuth,"&&",t),!n.payload.userData.isAuth&&t&&t&&a.history.push("/login");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[l,a.history]),r.a.createElement(e,Object.assign({},a,{user:c}))}},b=a(23);var y=function(){var e=Object(o.f)(),t=Object(n.useState)(!1),a=Object(b.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),u=Object(b.a)(i,2),g=u[0],h=u[1],y=Object(n.useState)(""),x=Object(b.a)(y,2),v=x[0],k=x[1];Object(n.useEffect)((function(){window.screen.width<=767&&l(!0)}),[c]);var N=function(){var t=Object(m.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("log in..."),t.next=7;break;case 4:a=t.sent,t.next=11;break;case 7:return alert("PRODUCTION"),t.next=10,d.a.post("".concat(p.a,"/api/users/login"),{email:g,password:v});case 10:a=t.sent;case 11:n=a.data.loginSuccess,console.log(n),n?e.push("/index"):alert("Datos incorrectos");case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();setTimeout((function(){window.screen.width<=767&&l(!0),console.log("Mobile",c)}),1e3);var w=Object(f.c)((function(e){return e.counter})),O=Object(f.c)((function(e){return e.login})),A=Object(f.b)();return r.a.createElement("div",{className:"container",style:{maxWidth:"95%"}},r.a.createElement("div",{className:"container",style:{paddingTop:"30px",marginBottom:"50px",border:"black 1px solid",borderRadius:"12px",maxWidth:"600px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"0px"}},r.a.createElement("h2",{style:{display:"block",margin:"auto"}},"INGRESAR"),r.a.createElement("br",null)),r.a.createElement("div",{className:"container",style:{paddingTop:"15px",display:"block",margin:"auto",maxWidth:"500px"}},r.a.createElement("div",{style:{display:"block",margin:"auto"},id:"demo-form"},r.a.createElement("input",{className:"form-control",type:"email",name:"email",style:{marginBottom:"12px"},placeholder:"Correo electr\xf3nico",autoFocus:!0,onChange:function(e){return h(e.target.value)}}),r.a.createElement("input",{className:"form-control",type:"password",name:"password",style:{marginBottom:"30px"},placeholder:"Contrase\xf1a",onChange:function(e){return k(e.target.value)}}),r.a.createElement("button",{className:"btn btn-success g-recaptcha",style:{width:"100%",display:"block",margin:"auto"},"data-sitekey":"6LefBLcZAAAAANjU9eswkE-TMmarZL72OzW_ZlSz","data-callback":"onSubmit","data-action":"submit",onClick:function(){return N()}},"ENTRAR")),r.a.createElement("a",{href:"/register"},r.a.createElement("p",{style:{fontSize:"1rem",padding:"15px 0px",textAlign:"end"}},"Registrar una cuenta")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",{style:{textAlign:"center"}}," All right! "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h1",null,"Contador: ",w),r.a.createElement("button",{onClick:function(){return A({type:"increment"})}},"+1"),r.a.createElement("button",{onClick:function(){return A(E(1))}},"-1"),r.a.createElement("button",{onClick:function(){return A(E(2))}},"-2"),O?r.a.createElement("h2",null,"Est\xe1 logueado"):r.a.createElement("h2",null,"No est\xe1 logueado"),r.a.createElement("button",{onClick:function(){return A({type:"log_in"})}},"LogIn/LogOut"))};var x=function(){return r.a.createElement("div",{className:"container container2",style:{maxWidth:"95%"}},r.a.createElement("div",{className:"container",style:{paddingTop:"30px",marginBottom:"50px",border:"black 1px solid",borderRadius:"12px",maxWidth:"600px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"0px"}},r.a.createElement("h2",{style:{display:"block",margin:"auto"}},"REGISTRARSE"),r.a.createElement("br",null)),r.a.createElement("div",{className:"container",style:{paddingTop:"15px",display:"block",margin:"auto",maxWidth:"500px"}},r.a.createElement("form",{action:"/register",method:"POST",style:{display:"block",margin:"auto"},id:"demo-form"},r.a.createElement("input",{className:"form-control",type:"email",name:"email",style:{marginBottom:"12px"},placeholder:"Correo electr\xf3nico",autoFocus:!0}),r.a.createElement("input",{className:"form-control",type:"password",name:"password",style:{marginBottom:"12px"},placeholder:"Contrase\xf1a"}),r.a.createElement("input",{className:"form-control",type:"password",name:"confpassword",style:{marginBottom:"12px"},placeholder:"Confirmar Contrase\xf1a"}),r.a.createElement("input",{className:"form-control",type:"number",name:"group",style:{marginBottom:"30px"},placeholder:"N\xfamero de Grupo"}),r.a.createElement("button",{className:"btn btn-danger g-recaptcha",style:{width:"100%",display:"block",margin:"auto",height:"50px"},"data-sitekey":"6LefBLcZAAAAANjU9eswkE-TMmarZL72OzW_ZlSz","data-callback":"onSubmit","data-action":"submit"},"REGISTRARSE"),r.a.createElement("a",{href:"/login"},r.a.createElement("p",{style:{fontSize:"1.1rem",padding:"15px 0px",textAlign:"end"}},"Volver a ingreso"))))),r.a.createElement("p",{style:{fontSize:"0.9rem",paddingBottom:"12px",textAlign:"center",display:"block"}},"Luego de registrarse, se debe aguardar la autorizaci\xf3n del grupo de territorios"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))};var v=function(){return r.a.createElement("h2",null," Home Page ")};var k=function(){var e=Object(f.c)((function(e){return e.user.userData})),t=Object(n.useState)([]),a=Object(b.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()("".concat(p.a,"/api/buildings/territorios"));case 2:t=e.sent,console.log("Cantidad de territorios:",t.data.territorios),l(t.data.territorios);case 5:case"end":return e.stop()}}),e)})))()}),[]);var o={width:"120px",height:"100px",borderRadius:"15px",marginBottom:"40px"};return r.a.createElement("div",{className:"container",style:{paddingTop:"60px",marginBottom:"50px"}},r.a.createElement("div",{className:"row",style:{marginBottom:"20px"}},r.a.createElement("h1",{style:{display:"block",margin:"auto",textAlign:"center"}},"SELECCIONE UN TERRITORIO")),r.a.createElement("div",{className:"row",style:{padding:"60px",paddingTop:"40px",justifyContent:"space-evenly"},id:"columna"},function(){try{if(e.userData.isAuth)return c.map((function(e,t){return r.a.createElement("a",{type:"button",className:"btn btn-danger",style:o,href:"/territorios/".concat(e),key:t},r.a.createElement("h2",{className:"h-100 align-middle",style:{padding:"22%",fontFamily:'"Arial Black", Gadget, sans-serif'}},e))}))}catch(t){}}()))},N=a(27);var w=function(){var e=Object(o.g)().territorio,t=Object(n.useState)({unterritorio:[{_id:"5f1cf04e21b796c4c63865fa",inner_id:"16",cuadra_id:"1",territorio:"1",manzana:"1",direccion:"Concordia 65 3 A",telefono:"54-11-4612-3867",estado:"Contest\xf3",fechaUlt:"1595883532288",noAbonado:!1,observaciones:""}]}),a=Object(b.a)(t,2),c=a[0],l=a[1],i=function(){var e=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()("".concat(p.a,"/api/buildings/getBuildings/").concat(t));case 2:a=e.sent,l(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{style:{textAlign:"center"}}," Territorios Page "),r.a.createElement("h2",{style:{textAlign:"center"}}," Territorio ",e," "),r.a.createElement("br",null),r.a.createElement("br",null),(console.log("viviendas:",typeof c.unterritorio,c.unterritorio),c.unterritorio.map((function(e){return r.a.createElement("div",{className:"card",key:e.inner_id,style:{marginBottom:"50px"}},r.a.createElement("div",{className:"card-body",style:{paddingTop:"15px",paddingBottom:"15px"}},r.a.createElement("div",{className:"row",style:{margin:"25px"}},r.a.createElement("div",{className:"col-lg-2",style:{margin:"auto"}},r.a.createElement("h4",{style:{textAlign:"center",fontSize:"1.2rem"}},"Territorio ",e.territorio," ",r.a.createElement("br",null),"Manzana ",e.manzana," ",r.a.createElement("br",null),"Vivienda ",e.inner_id)),r.a.createElement("div",{className:"col-lg-4",style:{marginBottom:"10px"}},r.a.createElement("div",{className:"row",style:{paddingBottom:"20px"}},r.a.createElement("h4",{style:{textAlign:"center",display:"block",margin:"auto"}},"Direcci\xf3n: ",e.direccion)),r.a.createElement("div",{className:"row",style:{paddingTop:"20px",paddingBottom:"1%"}},r.a.createElement("h4",{style:{textAlign:"center",display:"block",margin:"auto"}},"Tel\xe9fono:",r.a.createElement("div",{style:{marginTop:"7px"}},r.a.createElement("a",{href:"tel:".concat(e.telefono)}," ",e.telefono," "))))),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("div",{className:"row",style:{textAlign:"center",height:"50%"}},r.a.createElement(N.a,{style:{width:"100%"}},r.a.createElement(N.a.Toggle,{variant:"success",id:"dropdown-basic",style:{width:"80%"}},e.estado),r.a.createElement(N.a.Menu,null,r.a.createElement(N.a.Item,{href:"#/action-1"},"No predicado"),r.a.createElement(N.a.Item,{href:"#/action-2"},"Contest\xf3"),r.a.createElement(N.a.Item,{href:"#/action-3",onClick:function(){alert("No contest\xf3")}},"No contest\xf3"),r.a.createElement(N.a.Item,{href:"#/action-4"},"A dejar carta"),r.a.createElement(N.a.Item,{href:"#/action-5"},"No llamar")))),r.a.createElement("div",{className:"row",style:{height:"50%"}},e.fechaUlt?r.a.createElement("div",{className:"card border-dark mb-3",style:{maxWidth:"18rem",backgroundColor:"rgb(214, 214, 214)",margin:"auto"}},r.a.createElement("div",{className:"card-header",style:{padding:"0.2rem 0.5rem"}},r.a.createElement("p",{className:"card-text"},"Se llam\xf3 el ",function(e){try{return new Date(parseInt(e)).toString().split("GMT")[0]}catch(t){}}(e.fechaUlt)))):r.a.createElement("div",null))),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("div",{className:"row",style:{textAlign:"center",height:"100%",marginLeft:"20px"}},r.a.createElement("div",{className:"form-check",style:{display:"block",margin:"auto"}},r.a.createElement("input",{className:"form-check-input",type:"checkbox",id:"checkbox{{inner_id}}",style:{marginTop:"0.5rem",transform:"scale(1.5)",padding:5,marginLeft:"0rem"},onClick:function(){return alert()}}),r.a.createElement("label",{className:"form-check-label",htmlFor:"defaultCheck1",style:{fontSize:"1.1rem",fontWeight:600}},"\xa0 \xa0 Tel\xe9fono no abonado en servicio")))))))}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))};var O=function(){return r.a.createElement("h2",null," Estad\xedsticas Page ")};var A=function(){return r.a.createElement("h2",null," User Page ")};var T=function(){return r.a.createElement("h2",null," Admins Page ")};var j=function(){return r.a.createElement("h2",null," Rooms Page ")},C=a(119),S=a(117),I=a(66),B=a(118),R=a(116);var _=function(){var e=Object(f.c)((function(e){return e.user.userData}));console.log("redux",e);var t=Object(o.f)(),a=function(){var e=Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=6;break;case 3:a=e.sent,e.next=10;break;case 6:return alert("PRODUCCI\xd3N"),e.next=9,d()("".concat(p.a,"/api/users/logout"));case 9:a=e.sent;case 10:"ok"===a.data.response?(alert("Sesi\xf3n de usuario cerrada con \xe9xito"),t.push("/login")):alert("Algo fall\xf3 y no cerr\xf3 sesi\xf3n");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(B.a,{bg:"dark",variant:"dark",collapseOnSelect:!0,expand:"lg"},r.a.createElement(B.a.Brand,{href:"/"},"\xa0 INICIO"),r.a.createElement(B.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(B.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(C.a,{className:"mr-auto"},r.a.createElement(C.a.Link,{href:"/index"},"\xa0 \xa0Territorios\xa0 \xa0"),r.a.createElement(C.a.Link,{href:"/salas"},"\xa0 \xa0Salas\xa0 \xa0"),r.a.createElement(C.a.Link,{href:"/estadisticas"},"\xa0 \xa0Estad\xedsticas\xa0 \xa0"),r.a.createElement(C.a.Link,{href:"/admins"},"\xa0 \xa0Administradores\xa0 \xa0"),r.a.createElement(R.a,{title:"\xa0 \xa0Mi usuario\xa0 \xa0",id:"collasible-nav-dropdown"},r.a.createElement(R.a.Item,{href:"#action/3.1"},"Datos"),r.a.createElement(R.a.Item,{href:"#action/3.2"},"Actividad"),r.a.createElement(R.a.Divider,null),r.a.createElement(R.a.Item,{href:"#action/3.4"},"Otros"))),function(){try{if(console.log(e.userData.isAuth),e.userData.isAuth)return r.a.createElement(C.a,null,r.a.createElement(S.a,{inline:!0},r.a.createElement(I.a,{variant:"outline-info",onClick:function(){return a()}},"CERRAR SESI\xd3N")))}catch(t){}}())))};var D=function(){var e={fontSize:window.screen.width>767?"3rem":"1rem",paddingTop:"20px",paddingBottom:"20px",backgroundColor:"#343a40",height:"200px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-footer",style:e},r.a.createElement("div",{style:{display:"flex",margin:"auto",textAlign:"center",alignItems:"center",justifyContent:"center"}},r.a.createElement("span",{style:{display:"inline-block"}},r.a.createElement("a",{href:"https://glamstudio.com.ar",style:{color:"white",fontWeight:"bolder"}},"\xa0 TEXTO ")),r.a.createElement("span",{style:{display:"inline-block"}}))))};a(106);var L=function(){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Cargando...")},r.a.createElement(_,null),r.a.createElement("div",{style:{maxWidth:"90%",paddingTop:"75px",margin:"auto",minHeight:"calc(100vh - 80px)"}},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:h(v,!1)}),r.a.createElement(o.a,{exact:!0,path:"/login",component:h(y,!1)}),r.a.createElement(o.a,{exact:!0,path:"/register",component:h(x,!1)}),r.a.createElement(o.a,{exact:!0,path:"/index",component:h(k,!0)}),r.a.createElement(o.a,{exact:!0,path:"/territorios/:territorio",component:h(w,!0)}),r.a.createElement(o.a,{exact:!0,path:"/estadisticas",component:h(O,!1)}),r.a.createElement(o.a,{exact:!0,path:"/user",component:h(A,!1)}),r.a.createElement(o.a,{exact:!0,path:"/admins",component:h(T,!1)}),r.a.createElement(o.a,{exact:!0,path:"/salas",component:h(j,!1)}),r.a.createElement(o.a,{path:"/",component:h(y,!1)}))),r.a.createElement(D,null))},z=a(32),U=a(28),W=a(71),P=Object(U.c)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"increment":return e+1;case"decrement":return e-t.payload;default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"log_in":return!e;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth_user":return Object(W.a)({},e,{userData:t.payload});default:return e}}}),M=a(67),F=a(68),G=a.n(F),Z=Object(U.a)(G.a,M.a)(U.d);l.a.render(r.a.createElement(f.a,{store:Z(P,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(z.a,null,r.a.createElement(L,null))),document.getElementById("root"))},14:function(e){e.exports=JSON.parse('{"a":"https://registros-rest-api.herokuapp.com"}')},74:function(e,t,a){e.exports=a(111)},79:function(e,t,a){},80:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.e30c9b3c.chunk.js.map